# 2691 矩阵问题

## 题目描述

现在给出 $$n$$ 个关键点，一个排列 $$p$$，第 $$i$$ 个关键点在 $$(i, p_i)$$ 处。

一个好矩形当且仅当它的四个对角处中恰有两个关键点，显然一共有 $$\frac{n(n - 1)}{2}$$ 个好矩形。

现在有 $$q$$ 个询问，每个询问是一个矩形区域，问有多少好矩形和这个矩形区域相交。

两个矩形相交的定义为，它们重叠至少一个格子。

## 输入格式

第一行两个整数 $$n$$ 和 $$q$$。

接下来一行一个排列 $$p$$。

接下来 $$q$$ 行每行四个整数 $$l,d,r,u$$，表示矩形区域。

## 输出格式

对于每个询问，输出答案。

## 输入样例

{% code-tabs %}
{% code-tabs-item title="sample.in" %}
```text
4 2
1 3 2 4
4 1 4 4
1 1 2 3
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 输入样例

{% code-tabs %}
{% code-tabs-item title="sample.out" %}
```text
3
5
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 数据范围

| 测试点 | 范围 |
| :---: | :---: |
| 40% | $$1 \leq n \leq 10^3$$ |
| 100% | $$1 \leq n \leq 10^5$$ |

数据保证排列和询问合法，且 $$1 \leq l \leq r \leq n,\,1 \leq d \leq u \leq n$$。



