# 2961 星系

## 题目描述

重新踏上旅途的小 X 正经营着一个星系。

这个星系中共有 $$n$$ 颗行星，它们的编号分别为 $$1,\,x,\,\dots,\,n$$。每一颗行星都有一个三元组 $$(a,\,b,\,c)$$ 作为它的属性，表示其具有的水、火、木三种能量的数量。初始时，第 $$i$$ 棵行星的属性为 $$(a_i,\,b_i,\,c_i)$$。

在接下来 $$m$$ 天中，小 X 都会对一些行星进行施法，或是查询。形式化地来说，小 X 可能进行的所有操作如下所示：

1. 给定 $$l,\,r$$，查询 $$\sum_{i=l}^r a_i,\ \sum_{i=l}^r b_i,\ \sum_{i=l}^r c_i$$；
2. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$a_i = x$$；
3. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$b_i = b_i + x$$；
4. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$c_i = c_i \times x$$；
5. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$b_i = b_i + a_i \times x$$；
6. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$c_i = c_i + b_i \times x$$；
7. 给定 $$l,\,r,\,x$$，对于所有 $$i \in [l,\,r]$$，令 $$a_i = a_i + c_i \times x$$；

对于查询操作，你只要告诉小 X 答案对 $$2^{32}$$ 取模的结果就可以了。

## 输入格式

第一行一个整数 $$num$$，表示测试点编号，以便选手方便地获得部分分，你可能不需要用到这则消息，样例中 $$num$$ 的含义为数据范围与某个测试点相同。

接下来一行两个整数 $$n,\,m$$，表示行星和操作各自的个数。

接下来 $$n$$ 行，每行三个整数 $$a_i,\,b_i,\,c_i$$，表示行星初始的属性。

接下来 $$m$$ 行，每行第一个整数 $$opt_i$$，表示操作类型。若 $$opt_i = 1$$，接下来两个整数 $$l_i,\,r_i$$，表示一次查询操作；否则，接下来三个整数 $$l_i,\,r_i,\,x_i$$，表示一次施法操作。

## 输出格式

对于每一个查询操作，输出一行三个整数，表示所查询的值对 $$2^{32}$$ 取模的结果。

## 输入样例

{% code-tabs %}
{% code-tabs-item title="sample.in" %}
```text
1
3 5
1 0 0
0 2 0
0 0 3
1 1 3
3 1 1 5
1 1 2
6 1 3 1
1 2 3
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 输出样例

{% code-tabs %}
{% code-tabs-item title="sample.out" %}
```text
1 2 3
1 7 0
0 2 5
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 样例解释

第一次施法操作使得 1 号行星的 $$b_i$$ 增加了 5.

第二次施法操作使得 1 号行星的 $$c_i$$ 增加了 5，2 号行星的 $$c_i$$ 增加了 2。

## 数据范围

对于所有测试数据，保证 $$1 \leq n,\,m \leq 2 \times 10^5$$，$$1 \leq opt_i \leq 7$$，$$1 \leq l_i \leq r_i \leq n$$。

| 测试点 | 范围 | 特殊性质 |
| :---: | :---: | :---: |
| 1-2 | $$1 \leq n,\,m \leq 10^3$$ | 无 |
| 3-4 | $$1 \leq n \leq 2 \times 10^5,\,1 \leq m \leq 10^5$$ | $$1 \leq opt_i \leq 4$$ |
| 5-6 | $$1 \leq n \leq 2 \times 10^5,\,1 \leq m \leq 10^5$$ | $$1 \leq opt_i \leq 6$$ |
| 7-8 | $$1 \leq n \leq 2 \times 10^5,\,1 \leq m \leq 10^5$$ | 无 |
| 9-10 | $$1 \leq n,\,m \leq 2 \times 10^5$$ | 无 |

