# 2692 线图问题

## 题目描述

定义 $$G$$ 为简单无向图，$$L(G)$$ 为 $$G$$ 生成的简单无向图（也称为线图）。不妨设 $$G$$ 有 $$n$$ 个节点和 $$m$$ 条边，$$L(G)$$ 中有 $$m$$ 个节点，第 $$i$$ 个节点对应 $$G$$ 中的第 $$i$$ 条边，$$L(G)$$ 中的第 $$i$$ 个节点和第 $$j$$ 个节点有边当且仅当它们对应的 $$G$$ 中的边至少共用一个节点，并且这条边的权值为边 $$i$$ 的权与边 $$j$$ 的权的和。

设 $$dis(i,j)$$ 为图中第 $$i$$ 个节点与第 $$j$$ 个节点的最短路径。现在给你一棵树 $$T$$，问 $$L(L(T))$$ 中的一个值：$$\sum_{i=1}^{m} \sum_{j=i+1}^{m} dis(i,j)$$，$$m$$ 为 $$L(L(T))$$ 中的点数。

## 输入格式

第一行一个 $$T$$，即测试数据。

每组数据第一行一个整数 $$n$$。

接下来 $$n-1$$ 行，每行三个数 $$x,y,z$$，描述一条树边 $$x \leftrightarrow y$$，权为 $$z$$。

## 输出格式

对于每组数据，输出相应的求值结果。

## 输入样例

{% code-tabs %}
{% code-tabs-item title="sample.in" %}
```text
3
4
1 2 1
1 3 2
1 4 3
5
1 2 1
2 3 10
2 5 7
3 4 2
10
1 2 1
1 3 1
2 4 1
2 5 1
2 6 1
3 7 1
7 8 1
5 9 1
6 10 1
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 输出样例

{% code-tabs %}
{% code-tabs-item title="sample.out" %}
```text
24
166
420
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 数据范围

| 测试点 | 范围 |
| :---: | :---: |
| 30% | $$1 \leq n \leq 200$$ |
| 50% | $$1 \leq n \leq 10^3$$ |
| 100% | $$1 \leq n \leq 10^5,\ 1 \leq t \leq 5$$ |

且 $$1 \leq z \leq 10^9$$。

