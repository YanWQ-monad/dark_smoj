# 2688 路径问题

## 题目描述

现在有 $$n$$ 个城市，$$m$$ 条双向道路，一个人想从城市 1 通过一些道路到达城市 $$n$$，并且花费最小。

每条道路有三个参数 $$(x, y, z)$$，表示连接了 $$x$$ 和 $$y$$ 这两个不同的城市，并且这条道路的类别是 $$z$$。

一个人通过某条道路的花费是这样计算的：

1. 如果这是他第一条通过的道路，费用为 1；
2. 如果这条道路跟他上一条通过的道路类别不同，费用为 1；
3. 如果这条道路跟他上一条通过的道路类别相同，费用为 0。

现在要求最小花费，如果无法到达城市 $$n$$，输出 -1。

## 输入格式

有若干组测试数据，每组格式如下：

第一行两个整数 $$n$$ 和 $$m$$。

接下来 $$m$$ 行每行三个整数 $$x,\,y,\,z$$，表明一条双向道路。

## 输出格式

对于每组数据，输出最小花费，无解输出 -1。

## 输入样例

{% code-tabs %}
{% code-tabs-item title="sample.in" %}
```text
3 3
1 2 1
1 3 2
2 3 1
2 0
3 2
1 2 1
2 3 2
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 输出样例

{% code-tabs %}
{% code-tabs-item title="sample.out" %}
```text
1
-1
2
```
{% endcode-tabs-item %}
{% endcode-tabs %}

## 数据范围

| 测试点 | 范围 |
| :---: | :---: |
| 30% | $$1 \leq n \leq 10^3,\ 1 \leq m \leq 3 \times 10^3$$  |
| 另外 30% | 所有道路的类别互不相同 |
| 100% | $$1 \leq n \leq 5 \times 10^4,\ 1 \leq m \leq 10^5$$  |

保证每条道路输入合法。 $$1 \leq z \leq 10^6$$ ，$$1 \leq t \leq 5$$。

## 来源

[HDU 6386](http://acm.hdu.edu.cn/showproblem.php?pid=6386)

